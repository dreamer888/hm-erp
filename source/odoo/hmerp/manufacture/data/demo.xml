<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--  产品 -->
    <record id="ballpen" model="goods">
        <field name="name">圆珠笔</field>
        <field name="category_id" ref="core.goods_category_1"/>
		<field name="uom_id" ref="core.uom_pc"/>
		<field name="uos_id" ref="core.uom_pc"/>
        <field name="in_warehouse_id" ref="warehouse.sh_stock"/>
        <field name="get_way">self</field>
    </record>
    <!-- 材料 -->
    <record id="ballpen_tube" model="goods">
        <field name="name">笔管</field>
        <field name="category_id" ref="core.goods_category_1"/>
		<field name="uom_id" ref="core.uom_pc"/>
		<field name="uos_id" ref="core.uom_pc"/>
        <field name="get_way">po</field>
    </record>
    <record id="ballpen_refill" model="goods">
        <field name="name">笔芯</field>
        <field name="category_id" ref="core.goods_category_1"/>
		<field name="uom_id" ref="core.uom_pc"/>
		<field name="uos_id" ref="core.uom_pc"/>
        <field name="get_way">po</field>
    </record>
    <!-- 工序 -->
    <record id="main_workcenter" model="mrp.workcenter">
        <field name="code">01</field>
        <field name="name">主车间</field>
    </record>
    <record id="main_proc" model="mrp.proc">
        <field name="code">main</field>
        <field name="name">笔芯加工</field>
        <field name="workcenter_id" ref="main_workcenter"></field>
        <field name="get_way">ous</field>
    </record>
    <record id="second_proc" model="mrp.proc">
        <field name="code">main</field>
        <field name="name">圆珠笔组装</field>
        <field name="workcenter_id" ref="main_workcenter"></field>
        <field name="get_way">self</field>
    </record>
    <!--  BOM -->
    <record id="ballpen_bom" model="mrp.bom">
        <field name="bom_code">ball_pen_bom_001</field>
        <field name="goods_id" ref="ballpen"/>
        <field name="uom_id" ref="core.uom_pc"/>
        <field name="warehouse_id" ref="warehouse.sh_stock"/>        
    </record>
    <record id="ballpen_bom_line_tube" model="mrp.bom.line">
        <field name="mrp_bom_id" ref="ballpen_bom"/>
        <field name="goods_id" ref="ballpen_tube"/>
        <field name="uom_id" ref="core.uom_pc"/>
        <field name="qty">1</field>
        <field name="warehouse_id" ref="warehouse.sh_stock"/>        
    </record>
    <record id="ballpen_bom_line_refill" model="mrp.bom.line">
        <field name="mrp_bom_id" ref="ballpen_bom"/>
        <field name="goods_id" ref="ballpen_refill"/>
        <field name="uom_id" ref="core.uom_pc"/>
        <field name="qty">1</field>
        <field name="warehouse_id" ref="warehouse.sh_stock"/>        
    </record>
    <record id="ballpen_bom_proc_line1" model="mrp.bom.proc.line">
        <field name="mrp_bom_id" ref="ballpen_bom"/>
        <field name="mrp_proc_id" ref="main_proc"/>
        <field name="get_way">ous</field>
        <field name="need_qc">1</field>
    </record>
    <record id="ballpen_bom_proc_line2" model="mrp.bom.proc.line">
        <field name="mrp_bom_id" ref="ballpen_bom"/>
        <field name="mrp_proc_id" ref="second_proc"/>
        <field name="get_way">self</field>
        <field name="need_qc">1</field>
    </record>
    <!-- 主产品的销售订单 -->
    <record id="sell_order_mrp" model="sell.order">
        <field name="partner_id" ref="core.jd"/>
        <field name="type">sell</field>
        <field name="warehouse_id" ref="warehouse.sh_stock"/>
    </record>
    <record id="sell_order_line_ballpen" model="sell.order.line">
        <field name="uom_id" ref="core.uom_pc"/>
        <field name="goods_id" ref="ballpen"/>
        <field name="order_id" ref="sell_order_mrp"/>
        <field eval="8.0" name="price_taxed"/>
        <field eval="13.0" name="tax_rate"/>
        <field eval="10.0" name="quantity"/>
        <field name="bom_id" ref="ballpen_bom"/>
    </record>
    <!--没有bom的行不进计划-->
    <record id="sell_order_line_cable" model="sell.order.line">
        <field name="uom_id" ref="core.uom_pc"/>
        <field name="goods_id" ref="goods.cable"/>
        <field name="order_id" ref="sell_order_mrp"/>
        <field eval="8.0" name="price_taxed"/>
        <field eval="13.0" name="tax_rate"/>
        <field eval="200.0" name="quantity"/>
    </record>
    
</odoo>