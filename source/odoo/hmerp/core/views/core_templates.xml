<?xml version="1.0"?>
<openerp>
	<data>
		<template id="assets_backend" name="Core" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <!--
                One2many字段增加复制按钮
                使用 options="{'color':'random'}" 来实现多对多控件标签显示随机颜色
                 -->
                <script type="text/javascript" src="/core/static/src/js/core.js"></script>
                <script type="text/javascript" src="/core/static/src/js/list_renderer.js"></script>
                <script type="text/javascript" src="/core/static/src/js/gooderp.js"></script>
                <link rel="stylesheet" type="text/scss" href="/core/static/src/scss/core.scss"/>
                <link rel="stylesheet" type="text/css" href="/core/static/src/scss/core.css"/>
            </xpath>
        </template>
        <template id="web_login"  inherit_id="web.login" name="web_login" >
             <!-- 登录界面email改成用户 -->
             <xpath expr="//div[hasclass('form-group', 'field-login')]" position="replace">
                <div class="form-group field-login">
                    <label for="login">用户</label>
                    <input type="text" placeholder="用户" name="login" t-att-value="login" id="login" t-attf-class="form-control #{'form-control-sm' if form_small else ''}" required="required" autofocus="autofocus" autocapitalize="off"/>
                </div>
             </xpath>
        </template>
        <template id="menus_template" name="Menus List">
        <t t-call="web.layout">
            <t t-set="title">GoodERP</t>
            <t t-set="head">
                <t t-call-assets="web.assets_common" t-js="false"/>
                <t t-call-assets="web.assets_frontend" t-js="false"/>
            </t>

            <div class="container">
                <div class="o_logo">
                    <p/>
                    <img class="img img-fluid d-block mx-auto" src="/logo" alt="Logo"/>
                    <p/>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <tr>
                                  <t t-foreach="menus" t-as="menu">
                                    <td>
                                        <!-- 一级菜单 -->
                                        <t t-if="not menu.action">
                                            <h2 t-esc="menu.name"/>
                                        </t>
                                        <t t-if="menu.action">
                                            <a target="_blank" t-att-href="'/web#action=%d' % menu.action.id">
                                                    <p t-esc="menu.name"/>
                                            </a>
                                        </t>
                                        <t t-foreach="menu.child_id" t-as="sub_menu">
                                            <!--二级菜单-->
                                            <t t-if="not sub_menu.action">
                                                <p t-esc="sub_menu.name"/>
                                            </t>
                                            <t t-if="sub_menu.action">
                                                <a target="_blank" t-att-href="'/web#action=%d' % sub_menu.action.id">
                                                    <p t-esc="sub_menu.name"/>
                                                </a>
                                            </t>
                                            <t t-foreach="sub_menu.child_id" t-as="sub_sub_menu">
                                                <!-- 三级菜单 -->
                                                <t t-if="not sub_sub_menu.action">
                                                    <p t-esc="sub_sub_menu.name"/>
                                                </t>
                                                <t t-if="sub_sub_menu.action">
                                                    <a target="_blank" t-att-href="'/web#action=%d' % sub_sub_menu.action.id">
                                                        <p t-esc="sub_sub_menu.name"/>
                                                    </a>
                                                </t>
                                                <t t-foreach="sub_sub_menu.child_id" t-as="sub_sub_sub_menu">
                                                    <!-- 四级菜单 -->
                                                    <t t-if="sub_sub_sub_menu.action">
                                                        <a target="_blank" t-att-href="'/web#action=%d' % sub_sub_sub_menu.action.id">
                                                            <p t-esc="sub_sub_sub_menu.name"/>
                                                        </a>
                                                    </t>
                                            </t>
                                            </t>
                                        </t>
                                    </td>
                                  </t>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </t>
        </template>
        <record id="action_open_menus" model="ir.actions.act_url">
          <field name="name">GoodERP - 尽力为简 按需就繁</field>
          <field name="target">self</field>
          <field name="url">/menus</field>
      </record>
    </data>
</openerp>

